---
import { getCollection } from 'astro:content';
import TutorialLayout from '../../layouts/TutorialLayout.astro';

export async function getStaticPaths() {
  const tutorials = await getCollection('tutorials');
  return tutorials.map((tutorial) => ({
    params: { slug: tutorial.slug },
    props: { tutorial },
  }));
}

const { tutorial } = Astro.props;
const { Content } = await tutorial.render();
---

<TutorialLayout
  title={tutorial.data.title}
  description={tutorial.data.description}
  category={tutorial.data.category}
  categoryLabel={tutorial.data.categoryLabel}
  duration={tutorial.data.duration}
  number={tutorial.data.number}
  bgGradient={tutorial.data.bgGradient}
  icon={tutorial.data.icon}
  publishDate={tutorial.data.publishDate}
  author={tutorial.data.author}
>
  <Content />
</TutorialLayout>
